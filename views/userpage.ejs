<div class="profile-banner">
    <div class="profile-picture-wrapper">
        <% if (locals.user2.ppf_gifId != undefined) { %>
        <img class="profile-picture tenor-load" gif-id="<%= locals.user2.ppf_gifId %>">
        <% } else { %>
        <img class="profile-picture" src="/img/no-gif.png">
        <% } %>
    </div>
    <div class="profile-info">
        <h1><%= locals.user2.username %></h1>
        <div>Joined: <%= locals.moment(new Date(locals.user2.created)).format('Do MMMM, YYYY') %></div>
        <div>Permission Level: <%= locals.UserPremission[locals.user2.permission].toLowerCase() %></div>
        <p>Bio: Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto harum molestiae itaque officiis sit quibusdam, omnis consequuntur! Ex alias eum iste molestiae tempore, nisi praesentium ipsam mollitia, officiis natus nam.</p>
    </div>
</div>
<div class="tabs-wrapper">
    <div class="tabs-header">
        <div class="tab-spacer"></div>
        <!-- Scenes Tab -->
        <input type="radio" name="tab" id="tab1" class="tab-button" checked>
        <label for="tab1" class="tab-label">Scenes</label>
        <div class="tab-content">
            <div class="gallery" token="<%= csrfToken %>">
                <% for (let i = 0; i < locals.user2.scenes.length; i++) { %>
                <a class="scene" href="/scene/<%= locals.user2.scenes[i].id %>">
                    <img class="scene-gif tenor-load" src="" gif-id="<%= locals.user2.scenes[i].gifId %>" alt=" ">
                    <h4 class="scene-title"><%= locals.user2.scenes[i].title %></h4>
                </a>
                <% } %>
                <% for (let i = 0; i < 12; i++) { %>
                <div class="scene placeholder"></div>
                <% } %>
            </div>
        </div>
        <!-- Settings Tab -->
        <% if (locals.user != undefined && locals.user.id == locals.user2.id) { %>
        <input type="radio" name="tab" id="tab2" class="tab-button">
        <label for="tab2" class="tab-label">Settings</label>
        <div class="tab-content settings">
            <h2>Settings</h2>
            <form class="save-form" action="/modify/usersettings/<%= locals.user.username %>" method="POST">
                <input type="hidden" name="_csrf" value="<%= locals.csrfToken %>">
                
                <label class="checkbox-wrapper" for="viewarev">
                    <h4>View "Awaiting Review" Scenes</h4>
                    <input type="checkbox" id="viewarev" name="viewarev" value="1" <%= (locals.user.view_await_review) ? "checked" : "" %>>
                    <div class="switch"><div></div></div>
                </label>
                <div>
                    This setting allows you to view new user's scenes that have not
                    yet been approved by a moderator and released to the public. The
                    content of these scenes is unknown and may not be suitable for
                    all audiences. Please proceed with caution and be on the lookout
                    for any <a href="/guidelines" target="_blank">Community Guidelines</a>
                    violations.
                </div>
                <br>
                <button type="submit">Save</button>
            </form>
        </div>
        <!-- Log Out Action -->
        <form action="/logout" method="POST">
            <input type="hidden" name="_csrf" value="<%= locals.csrfToken %>">
            <button type="submit" class="tab-label">Log Out</button>
        </form>
        <!-- Go To Admin Panel -->
        <% if (locals.user.permission >= UserPremission.ADMINISTRATOR) { %>
        <form action="/admin" method="GET">
            <button type="submit" class="tab-label">Admin</button>
        </form>
        <% } %>
        <% } %>
    </div>
</div>
<script src="/js/jquery.min.js"></script>
<script src="/js/userpage.js"></script>